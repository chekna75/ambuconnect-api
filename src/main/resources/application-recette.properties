# Type de base de données
quarkus.datasource.db-kind=postgresql

# Génération du schéma (peut être `update`, `create`, ou `validate`)
quarkus.hibernate-orm.database.generation=update

# Définition du schéma (remplace "ambuconnectdb" si nécessaire)
quarkus.datasource.schema=ambuconnect
quarkus.hibernate-orm.default-schema=ambuconnect

# URL de connexion Railway (URL publique)
quarkus.datasource.jdbc.url=jdbc:postgresql://postgres.railway.internal:5432/railway
quarkus.datasource.username=postgres
quarkus.datasource.password=toNkzKAbXtdHGkmBYiNZMpCDTNskQcKt

# Configuration du client réactif PostgreSQL
quarkus.datasource.reactive.url=postgresql://postgres.railway.internal:5432/railway
quarkus.datasource.reactive.max-size=20

# Désactiver les healthchecks de la base de données
quarkus.datasource.health.enabled=false
quarkus.datasource.reactive.health.enabled=false
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.health.enabled=false

# Configuration du pool de connexion
quarkus.datasource.jdbc.min-size=3
quarkus.datasource.jdbc.max-size=20
quarkus.datasource.jdbc.transaction-isolation=repeatable-read

# Configuration du serveur HTTP (Railway gère le port dynamiquement)
quarkus.http.host=0.0.0.0
quarkus.http.port=${PORT:8080}

# Swagger
quarkus.smallrye-openapi.path=/ambuconnect
quarkus.smallrye-openapi.title=AmbuConnect
quarkus.smallrye-openapi.version=1.0.0
quarkus.smallrye-openapi.contact.name=Diaby
quarkus.smallrye-openapi.contact.url=https://votre-site.com
quarkus.smallrye-openapi.contact.email=contact@votre-site.com

quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.basic-auth.enabled=false

# Configurer le schéma de sécurité HTTP Basic pour Swagger UI
quarkus.smallrye-openapi.security-scheme.basic.type=http
quarkus.smallrye-openapi.security-scheme.basic.scheme=basic

# Configuration JWT
mp.jwt.verify.publickey=-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw/pTLb4rod53T03QmpH3WbB72zaT2B1erOpZkcwMFHydnSWPQ426naiNoes/Sf9lcfnzoIuEzzYkXUKiJpcnOSbhWmohMwslTz5b6l+fNBok3CICHjuLSPHlvA93SXkIQxem/SMgvRBEQCV2BJtoaCnCF6PrsCBXFQnuGfR6+O8l4L/4depIPRIhAI6RD8IxLakJaMCD0iEcmEnpYvZh4Uq0YiZ7lRud2vfxRBjVDP/cRlJ0ENAUNWJjMagSRDkj0qUUbwGdDXEWo0vUBLelgSiOAWyYvBxatTKeV08bh5VIadk8oKEADkG88UPu4nRUFLQiSQX3axRc/8/WeDoF7wIDAQAB-----END PUBLIC KEY-----
mp.jwt.verify.issuer=ambuconnect-api-recette.up.railway.app
smallrye.jwt.sign.key.location=privateKey.pem

# Autres configurations de sécurité JWT
quarkus.smallrye-jwt.enabled=true
quarkus.smallrye-jwt.auth-mechanism=MP-JWT
quarkus.smallrye-jwt.realmName=AmbuConnect
quarkus.smallrye-jwt.token.header=Authorization
quarkus.smallrye-jwt.token.scheme=Bearer
quarkus.smallrye-jwt.verify.algorithm=RS256

# Débogage JWT
quarkus.log.category."io.smallrye.jwt".level=DEBUG
quarkus.log.category."io.smallrye.jwt.auth".level=DEBUG

# Docker 
quarkus.test.containers.disable=true

# Configuration CORS complète
quarkus.http.cors=false
# quarkus.http.cors.origins=*
# quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS,HEAD,PATCH
# quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,x-cors-headers,*
# quarkus.http.cors.exposed-headers=Content-Disposition,Authorization
# quarkus.http.cors.access-control-max-age=86400
# quarkus.http.cors.access-control-allow-credentials=true

# Mailer
quarkus.mailer.auth-methods=DIGEST-MD5 LOGIN PLAIN
quarkus.mailer.from=votre-email@domaine.com
quarkus.mailer.host=smtp.votreserveur.com
quarkus.mailer.port=587
quarkus.mailer.username=votre-username
quarkus.mailer.password=votre-password
quarkus.mailer.start-tls=REQUIRED

# Configuration des services de géolocalisation
# geolocalisation.nominatim.url=https://nominatim.openstreetmap.org
# geolocalisation.osrm.url=https://router.project-osrm.org

# Configuration Mapbox
geolocalisation.mapbox.base-url=https://api.mapbox.com
geolocalisation.mapbox.access-token=pk.eyJ1IjoiYW1idWNvbm5lY3QiLCJhIjoiY203ZHc3NHIzMDdpNDJqc2pxMTVxb2ppbSJ9.LesXeGKJNYsIyE3dlGv-6A

# Configuration Healthcheck simplifiée
quarkus.health.extensions.enabled=false
quarkus.datasource.health.enabled=false
quarkus.datasource.reactive.health.enabled=false
quarkus.hibernate-orm.health.enabled=false
quarkus.health.memory.enabled=false
quarkus.health.disk-space.enabled=false

# Points d'accès health simplifiés
quarkus.smallrye-health.root-path=/api/health
quarkus.smallrye-health.ui.enable=true

# Logging réduit pour health
quarkus.log.category."io.quarkus.smallrye.health".level=INFO

# Logging configuration
quarkus.log.level=INFO
quarkus.log.category."fr.ambuconnect.health".level=DEBUG
quarkus.log.category."org.hibernate".level=INFO

# Liveness check
quarkus.health.livenessPath=/api/health/live
quarkus.health.readinessPath=/api/health/ready